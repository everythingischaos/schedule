(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();let y=!1;typeof Storage<"u"?y=!0:y=!1;let d=JSON.parse('{"A":[{"name":"1","start":"8:30","end":"9:20"},{"name":"2","start":"9:25","end":"10:20"},{"name":"3","start":"10:25","end":"11:15"},{"name":"Break","start":"11:15","end":"11:30"},{"name":"4","start":"11:35","end":"12:25"},{"name":"5","start":"12:30","end":"13:20"},{"name":"Lunch","start":"13:20","end":"13:50"},{"name":"6","start":"13:55","end":"14:45"},{"name":"7","start":"14:50","end":"15:40"}],"E":[{"name":"1","start":"8:30","end":"9:20"},{"name":"2","start":"9:25","end":"10:55"},{"name":"Break","start":"10:55","end":"11:10"},{"name":"Tutorial","start":"11:15","end":"12:00"},{"name":"4","start":"12:05","end":"13:35"},{"name":"Lunch","start":"13:35","end":"14:05"},{"name":"6","start":"14:10","end":"15:40"}],"O":[{"name":"1","start":"8:30","end":"9:20"},{"name":"3","start":"9:25","end":"10:55"},{"name":"Break","start":"10:55","end":"11:10"},{"name":"5","start":"11:15","end":"12:45"},{"name":"Lunch","start":"12:45","end":"13:15"},{"name":"7","start":"13:20","end":"14:50"}],"SA":[{"name":"1","start":"8:30","end":"9:25"},{"name":"3","start":"9:30","end":"10:45"},{"name":"Rally","start":"10:50","end":"11:25"},{"name":"Break","start":"11:25","end":"11:40"},{"name":"5","start":"11:45","end":"13:00"},{"name":"Lunch","start":"13:00","end":"13:30"},{"name":"7","start":"13:35","end":"14:50"}],"LA":[{"name":"1","start":"8:30","end":"9:15"},{"name":"3","start":"9:20","end":"10:30"},{"name":"Assembly","start":"10:35","end":"11:35"},{"name":"Break","start":"11:35","end":"11:50"},{"name":"5","start":"11:55","end":"13:05"},{"name":"Lunch","start":"13:05","end":"13:35"},{"name":"7","start":"13:40","end":"14:50"}],"NS":"none"}'),q=JSON.parse('["A","E","O","E","O"]'),p;function c(){let e=new Date,a=((0*60+0)*60+0)*1e3+0;return e.setTime(e.getTime()+a),e}let f,l;function N(){fetch("https://everythingischaos.com/schedule-data/overrides.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async e=>{const t=await e.json();JSON.stringify(t)!=JSON.stringify(f)&&(f=t,g(d))},()=>{L("Network error!  Schedule might not be up to date."),clearInterval(v)}),fetch("https://everythingischaos.com/schedule-data/schedules.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async e=>{const t=await e.json();JSON.stringify(t)!=JSON.stringify(d)&&(d=t,g(d))},()=>{L("Network error!  Schedule might not be up to date."),clearInterval(v)}),fetch("https://everythingischaos.com/schedule-data/days.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async e=>{const t=await e.json();JSON.stringify(t)!=JSON.stringify(q)&&(q=t,g(d))},()=>{L("Network error!  Schedule might not be up to date."),clearInterval(v)})}N();let v=setInterval(N,1e4);function g(e,t){let n=c().getDay(),s=e[q[n-1]],a=!1;if(t){const r=c(),i=`CAASPP_${r.getDate()}-${r.getMonth()+1}`;e.contains(i)&&(s=e[i],a=!0)}if(f&&!a){const r=c(),i=`${r.getDate()}-${r.getMonth()+1}-${r.getFullYear()}`;f[i]&&(s=e[f[i]],console.log(s))}if(n==0||n==6||s=="none"){document.querySelector("#timer").textContent="No school today!";return}else{document.querySelector("#periods").innerHTML="<tr><th>Period</th><th>Start</th><th>End</th></tr>";let r=[];p&&clearInterval(p);for(let i=0;i<s.length;i++){let o=s[i],u=w(o.start),k=w(o.end);r.push({time:u.getTime(),name:"Start of "+o.name}),r.push({time:k.getTime(),name:"End of "+o.name});let T=u.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),b=k.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),S;o.name!="Break"&&o.name!="Lunch"&&!o.name.includes("walkout")&&h(o.name)?S=o.name+": "+h(o.name):S=o.name;let m="<tr";o.name.includes("walkout")?m+=' class="walkout"':o.name=="Break"||o.name=="Lunch"?m+=' class="break"':m+=" value="+o.name,m+=`>
      <td>${S}</td>
      <td>${T}</td>
      <td>${o.name.includes("walkout")?"~":""}${b}</td>
    </tr>`,document.getElementById("periods").innerHTML+=m}document.querySelectorAll(".pinput").forEach((i,o)=>{const u=h(String(o+1));i.value=u||""}),p=setInterval(D,3.33,r,n)}}function h(e){if(y)return localStorage.getItem(e)?localStorage.getItem(e):void 0}function w(e){let t=c(),n=e.split(":");return t.setHours(n[0],n[1],0),t}function A(e){let t=c();for(let n=0;n<e.length;n++)if(e[n].time>=t.getTime())return e[n]}let I=0,M=0;document.querySelector(".caasppinput").checked;function D(e,t){t!=c().getDay()&&g(d),l=A(e);let n=c(),s=document.getElementById("timer");if(l){let a=l.time-n.getTime(),r=E(a);document.visibilityState=="visible"&&(s.innerHTML=r.minutes+":"+r.seconds,M!=l&&(document.querySelector("#next").textContent="Until "+l.name+(h(l.name.slice(-1))?": "+h(l.name.slice(-1)):""),M=l)),I!=r.seconds&&(document.title=r.minutes+":"+r.seconds,I=r.seconds)}else s.innerText="School's Out!",document.title="School's Out!"}function E(e){var t=Math.floor(e%1e3),n=Math.floor(e/1e3%60),s=Math.floor(e/(1e3*60));return s=s<10?"0"+s:s,n=n<10?"0"+n:n,t=t<100?t<10?"00"+t:"0"+t:t,msChecked?{minutes:s,seconds:n,milliseconds:t}:{minutes:s,seconds:n}}document.querySelector("#shownaming").addEventListener("click",()=>{const e=document.querySelector("#naming");e.classList.contains("hidden")?(document.querySelector("#naming").classList.add("shown"),document.querySelector("#naming").classList.remove("hidden")):e.classList.contains("shown")&&(document.querySelector("#naming").classList.add("hidden"),document.querySelector("#naming").classList.remove("shown"));const t=document.querySelector("#footer");t.classList.contains("hidden")?(document.querySelector("#footer").classList.add("shown"),document.querySelector("#footer").classList.remove("hidden")):t.classList.contains("shown")&&(document.querySelector("#footer").classList.add("hidden"),document.querySelector("#footer").classList.remove("shown"))});document.querySelectorAll(".pinput").forEach(e=>{e.addEventListener("input",t=>{let n=t.target;x(n.attributes.id.value[1],n.value)})});document.querySelectorAll(".caasppinput").forEach(e=>{e.addEventListener("change",t=>{t.target.checked})});function x(e,t){if(y){const n=document.querySelector(`tr[value="${e}"] td:nth-child(1)`);t&&t!=""?(localStorage.setItem(e,t),n&&(n.textContent=e+": "+t)):(localStorage.removeItem(e),n&&(n.textContent=e))}}let O=!1;function L(e){if(!O){const t=document.querySelector(".alert");document.querySelector("#alert-text").textContent=e,t.classList.contains("alert-visible")||t.classList.add("alert-visible")}}document.querySelector("#alert-close").addEventListener("click",()=>{document.querySelector(".alert").classList.remove("alert-visible"),O=!0});
//# sourceMappingURL=index.bd808b66.js.map

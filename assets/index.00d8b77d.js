(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();const style="";let hasStorage=!1;typeof Storage<"u"?hasStorage=!0:hasStorage=!1;let defaultAllSchedules=JSON.parse('{"A":[{"name":"1","start":"8:30","end":"9:20"},{"name":"2","start":"9:25","end":"10:20"},{"name":"3","start":"10:25","end":"11:15"},{"name":"Break","start":"11:15","end":"11:30"},{"name":"4","start":"11:35","end":"12:25"},{"name":"5","start":"12:30","end":"13:20"},{"name":"Lunch","start":"13:20","end":"13:50"},{"name":"6","start":"13:55","end":"14:45"},{"name":"7","start":"14:50","end":"15:40"}],"E":[{"name":"1","start":"8:30","end":"9:20"},{"name":"2","start":"9:25","end":"10:55"},{"name":"Break","start":"10:55","end":"11:10"},{"name":"Tutorial","start":"11:15","end":"12:00"},{"name":"4","start":"12:05","end":"13:35"},{"name":"Lunch","start":"13:35","end":"14:05"},{"name":"6","start":"14:10","end":"15:40"}],"O":[{"name":"1","start":"8:30","end":"9:20"},{"name":"3","start":"9:25","end":"10:55"},{"name":"Break","start":"10:55","end":"11:10"},{"name":"5","start":"11:15","end":"12:45"},{"name":"Lunch","start":"12:45","end":"13:15"},{"name":"7","start":"13:20","end":"14:50"}],"SA":[{"name":"1","start":"8:30","end":"9:25"},{"name":"3","start":"9:30","end":"10:45"},{"name":"Rally","start":"10:50","end":"11:25"},{"name":"Break","start":"11:25","end":"11:40"},{"name":"5","start":"11:45","end":"13:00"},{"name":"Lunch","start":"13:00","end":"13:30"},{"name":"7","start":"13:35","end":"14:50"}],"LA":[{"name":"1","start":"8:30","end":"9:15"},{"name":"3","start":"9:20","end":"10:30"},{"name":"Assembly","start":"10:35","end":"11:35"},{"name":"Break","start":"11:35","end":"11:50"},{"name":"5","start":"11:55","end":"13:05"},{"name":"Lunch","start":"13:05","end":"13:35"},{"name":"7","start":"13:40","end":"14:50"}],"NS":"none"}'),days=JSON.parse('["A","E","O","E","O"]'),latestIntervalID;function newDebugDate(){let e=new Date,r=((0*60+0)*60+0)*1e3+0;return e.setTime(e.getTime()+r),e}let override,nextTime;function checkForChanges(){fetch("https://everythingischaos.com/schedule-data/overrides.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async e=>{const t=await e.json();JSON.stringify(t)!=JSON.stringify(override)&&(override=t,generateSchedule(defaultAllSchedules))},()=>{showAlert("Network error!  Schedule might not be up to date."),clearInterval(changesIntervalID)}),fetch("https://everythingischaos.com/schedule-data/schedules.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async e=>{const t=await e.json();JSON.stringify(t)!=JSON.stringify(defaultAllSchedules)&&(defaultAllSchedules=t,generateSchedule(defaultAllSchedules))},()=>{showAlert("Network error!  Schedule might not be up to date."),clearInterval(changesIntervalID)}),fetch("https://everythingischaos.com/schedule-data/days.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async e=>{const t=await e.json();JSON.stringify(t)!=JSON.stringify(days)&&(days=t,generateSchedule(defaultAllSchedules))},()=>{showAlert("Network error!  Schedule might not be up to date."),clearInterval(changesIntervalID)})}checkForChanges();let changesIntervalID=setInterval(checkForChanges,1e4);function generateSchedule(e,t){let n=newDebugDate().getDay(),l=e[days[n-1]],r=!1;if(t){const a=newDebugDate(),o=`CAASPP_${a.getDate()}-${a.getMonth()+1}`;e.contains(o)&&(l=e[o],r=!0)}if(override&&!r){const a=newDebugDate(),o=`${a.getDate()}-${a.getMonth()+1}-${a.getFullYear()}`;override[o]&&(l=e[override[o]],console.log(l))}if(n==0||n==6||l=="none"){document.querySelector("#timer").textContent="No school today!";return}else{document.querySelector("#periods").innerHTML="<tr><th>Period</th><th>Start</th><th>End</th></tr>";let a=[];latestIntervalID&&clearInterval(latestIntervalID);for(let o=0;o<l.length;o++){let s=l[o],c=timeStringToDate(s.start),u=timeStringToDate(s.end);a.push({time:c.getTime(),name:"Start of "+s.name}),a.push({time:u.getTime(),name:"End of "+s.name});let m=c.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),h=u.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),d;s.name!="Break"&&s.name!="Lunch"&&!s.name.includes("walkout")&&getClassName(s.name)?d=s.name+": "+getClassName(s.name):d=s.name;let i="<tr";s.name.includes("walkout")?i+=' class="walkout"':s.name=="Break"||s.name=="Lunch"?i+=' class="break"':i+=" value="+s.name,i+=`>
      <td>${d}</td>
      <td>${m}</td>
      <td>${s.name.includes("walkout")?"~":""}${h}</td>
    </tr>`,document.getElementById("periods").innerHTML+=i}document.querySelectorAll(".pinput").forEach((o,s)=>{const c=getClassName(String(s+1));o.value=c||""}),latestIntervalID=setInterval(renderTimer,3.33,a,n)}}function getClassName(e){if(hasStorage)return localStorage.getItem(e)?localStorage.getItem(e):void 0}function timeStringToDate(e){let t=newDebugDate(),n=e.split(":");return t.setHours(n[0],n[1],0),t}function findNext(e){let t=newDebugDate();for(let n=0;n<e.length;n++)if(e[n].time>=t.getTime())return e[n]}let prevSec=0,prevNext=0,caasppChecked=!1;hasStorage&&(caasppChecked=eval(localStorage.getItem("caasppChecked")));caasppChecked==null?caasppChecked=document.querySelector(".caasppinput").checked:document.querySelector(".caasppinput").checked=caasppChecked;function renderTimer(e,t){t!=newDebugDate().getDay()&&generateSchedule(defaultAllSchedules),nextTime=findNext(e);let n=newDebugDate(),l=document.getElementById("timer");if(nextTime){let r=nextTime.time-n.getTime(),a=msToTime(r);document.visibilityState=="visible"&&(l.innerHTML=a.minutes+":"+a.seconds,prevNext!=nextTime&&(document.querySelector("#next").textContent="Until "+nextTime.name+(getClassName(nextTime.name.slice(-1))?": "+getClassName(nextTime.name.slice(-1)):""),prevNext=nextTime)),prevSec!=a.seconds&&(document.title=a.minutes+":"+a.seconds,prevSec=a.seconds)}else l.innerText="School's Out!",document.title="School's Out!"}function msToTime(e){var t=Math.floor(e/1e3%60),n=Math.floor(e/(1e3*60));return n=n<10?"0"+n:n,t=t<10?"0"+t:t,{minutes:n,seconds:t}}document.querySelector("#shownaming").addEventListener("click",()=>{const e=document.querySelector("#naming");e.classList.contains("hidden")?(document.querySelector("#naming").classList.add("shown"),document.querySelector("#naming").classList.remove("hidden")):e.classList.contains("shown")&&(document.querySelector("#naming").classList.add("hidden"),document.querySelector("#naming").classList.remove("shown"));const t=document.querySelector("#footer");t.classList.contains("hidden")?(document.querySelector("#footer").classList.add("shown"),document.querySelector("#footer").classList.remove("hidden")):t.classList.contains("shown")&&(document.querySelector("#footer").classList.add("hidden"),document.querySelector("#footer").classList.remove("shown"))});document.querySelectorAll(".pinput").forEach(e=>{e.addEventListener("input",t=>{let n=t.target;setClassName(n.attributes.id.value[1],n.value)})});document.querySelectorAll(".caasppinput").forEach(e=>{e.addEventListener("change",t=>{let n=t.target;caasppChecked=n.checked,hasStorage&&localStorage.setItem("caasppChecked",`${n.caasppChecked}`)})});function setClassName(e,t){if(hasStorage){const n=document.querySelector(`tr[value="${e}"] td:nth-child(1)`);t&&t!=""?(localStorage.setItem(e,t),n&&(n.textContent=e+": "+t)):(localStorage.removeItem(e),n&&(n.textContent=e))}}let alertHidden=!1;function showAlert(e){if(!alertHidden){const t=document.querySelector(".alert");document.querySelector("#alert-text").textContent=e,t.classList.contains("alert-visible")||t.classList.add("alert-visible")}}document.querySelector("#alert-close").addEventListener("click",()=>{document.querySelector(".alert").classList.remove("alert-visible"),alertHidden=!0});
//# sourceMappingURL=index.00d8b77d.js.map

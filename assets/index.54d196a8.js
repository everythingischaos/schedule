(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerpolicy&&(r.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?r.credentials="include":a.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();const style="";let hasStorage=!1;typeof Storage<"u"?hasStorage=!0:hasStorage=!1;let defaultAllSchedules=JSON.parse('{"A":[{"name":"1","start":"8:30","end":"9:20"},{"name":"2","start":"9:25","end":"10:20"},{"name":"3","start":"10:25","end":"11:15"},{"name":"Break","start":"11:15","end":"11:30"},{"name":"4","start":"11:35","end":"12:25"},{"name":"5","start":"12:30","end":"13:20"},{"name":"Lunch","start":"13:20","end":"13:50"},{"name":"6","start":"13:55","end":"14:45"},{"name":"7","start":"14:50","end":"15:40"}],"E":[{"name":"1","start":"8:30","end":"9:20"},{"name":"2","start":"9:25","end":"10:55"},{"name":"Break","start":"10:55","end":"11:10"},{"name":"Tutorial","start":"11:15","end":"12:00"},{"name":"4","start":"12:05","end":"13:35"},{"name":"Lunch","start":"13:35","end":"14:05"},{"name":"6","start":"14:10","end":"15:40"}],"O":[{"name":"1","start":"8:30","end":"9:20"},{"name":"3","start":"9:25","end":"10:55"},{"name":"Break","start":"10:55","end":"11:10"},{"name":"5","start":"11:15","end":"12:45"},{"name":"Lunch","start":"12:45","end":"13:15"},{"name":"7","start":"13:20","end":"14:50"}],"SA":[{"name":"1","start":"8:30","end":"9:25"},{"name":"3","start":"9:30","end":"10:45"},{"name":"Rally","start":"10:50","end":"11:25"},{"name":"Break","start":"11:25","end":"11:40"},{"name":"5","start":"11:45","end":"13:00"},{"name":"Lunch","start":"13:00","end":"13:30"},{"name":"7","start":"13:35","end":"14:50"}],"LA":[{"name":"1","start":"8:30","end":"9:15"},{"name":"3","start":"9:20","end":"10:30"},{"name":"Assembly","start":"10:35","end":"11:35"},{"name":"Break","start":"11:35","end":"11:50"},{"name":"5","start":"11:55","end":"13:05"},{"name":"Lunch","start":"13:05","end":"13:35"},{"name":"7","start":"13:40","end":"14:50"}],"NS":"none"}'),days=JSON.parse('["A","E","O","E","O"]'),latestIntervalID;function newDebugDate(){let t=new Date,a=((0*60+0)*60+0)*1e3+0;return t.setTime(t.getTime()+a),t}let override,nextTime,caasppChecked=!1;hasStorage&&(caasppChecked=eval(localStorage.getItem("caasppChecked")));caasppChecked==null?caasppChecked=document.querySelector(".caasppinput").checked:document.querySelector(".caasppinput").checked=caasppChecked;function checkForChanges(){fetch("https://everythingischaos.com/schedule-data/overrides.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async t=>{const e=await t.json();JSON.stringify(e)!=JSON.stringify(override)&&(override=e,generateSchedule(defaultAllSchedules))},()=>{showAlert("Network error!  Schedule might not be up to date."),clearInterval(changesIntervalID)}),fetch("https://everythingischaos.com/schedule-data/schedules.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async t=>{const e=await t.json();JSON.stringify(e)!=JSON.stringify(defaultAllSchedules)&&(defaultAllSchedules=e,generateSchedule(defaultAllSchedules))},()=>{showAlert("Network error!  Schedule might not be up to date."),clearInterval(changesIntervalID)}),fetch("https://everythingischaos.com/schedule-data/days.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async t=>{const e=await t.json();JSON.stringify(e)!=JSON.stringify(days)&&(days=e,generateSchedule(defaultAllSchedules))},()=>{showAlert("Network error!  Schedule might not be up to date."),clearInterval(changesIntervalID)})}checkForChanges();let changesIntervalID=setInterval(checkForChanges,1e4);function generateSchedule(t){let e=newDebugDate().getDay(),n=t[days[e-1]],o=!1;if(caasppChecked){const a=newDebugDate(),r=`CAASPP_${a.getDate()}-${a.getMonth()+1}`;r in t&&(n=t[r],o=!0)}if(override&&!o){const a=newDebugDate(),r=`${a.getDate()}-${a.getMonth()+1}-${a.getFullYear()}`;override[r]&&(n=t[override[r]],console.log(n))}if(e==0||e==6||n=="none"){document.querySelector("#timer").textContent="No school today!";return}else{document.querySelector("#periods").innerHTML="<tr><th>Period</th><th>Start</th><th>End</th></tr>";let a=[];latestIntervalID&&clearInterval(latestIntervalID);for(let r=0;r<n.length;r++){let s=n[r],l=timeStringToDate(s.start),d=timeStringToDate(s.end);a.push({time:l.getTime(),name:"Start of "+s.name}),a.push({time:d.getTime(),name:"End of "+s.name});let u=l.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),m=d.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),i;s.name!="Break"&&s.name!="Lunch"&&!s.name.includes("walkout")&&getClassName(s.name)?i=s.name+": "+getClassName(s.name):i=s.name;let c="<tr";s.name.includes("walkout")?c+=' class="walkout"':s.name=="Break"||s.name=="Lunch"?c+=' class="break"':c+=" value="+s.name,c+=`>
      <td>${i}</td>
      <td>${u}</td>
      <td>${s.name.includes("walkout")?"~":""}${m}</td>
    </tr>`,document.getElementById("periods").innerHTML+=c}document.querySelectorAll(".pinput").forEach((r,s)=>{const l=getClassName(String(s+1));r.value=l||""}),latestIntervalID=setInterval(renderTimer,3.33,a,e)}}function getClassName(t){if(hasStorage)return localStorage.getItem(t)?localStorage.getItem(t):void 0}function timeStringToDate(t){let e=newDebugDate(),n=t.split(":");return e.setHours(n[0],n[1],0),e}function findNext(t){let e=newDebugDate();for(let n=0;n<t.length;n++)if(t[n].time>=e.getTime())return t[n]}let prevSec=0,prevNext=0;function renderTimer(t,e){e!=newDebugDate().getDay()&&generateSchedule(defaultAllSchedules),nextTime=findNext(t);let n=newDebugDate(),o=document.getElementById("timer");if(nextTime){let a=nextTime.time-n.getTime(),r=msToTime(a);document.visibilityState=="visible"&&(o.innerHTML=r.minutes+":"+r.seconds,prevNext!=nextTime&&(document.querySelector("#next").textContent="Until "+nextTime.name+(getClassName(nextTime.name.slice(-1))?": "+getClassName(nextTime.name.slice(-1)):""),prevNext=nextTime)),prevSec!=r.seconds&&(document.title=r.minutes+":"+r.seconds,prevSec=r.seconds)}else o.innerText="School's Out!",document.title="School's Out!"}function msToTime(t){var e=Math.floor(t/1e3%60),n=Math.floor(t/(1e3*60));return n=n<10?"0"+n:n,e=e<10?"0"+e:e,{minutes:n,seconds:e}}document.querySelector("#shownaming").addEventListener("click",()=>{const t=document.querySelector("#naming");t.classList.contains("hidden")?(document.querySelector("#naming").classList.add("shown"),document.querySelector("#naming").classList.remove("hidden")):t.classList.contains("shown")&&(document.querySelector("#naming").classList.add("hidden"),document.querySelector("#naming").classList.remove("shown"));const e=document.querySelector("#footer");e.classList.contains("hidden")?(document.querySelector("#footer").classList.add("shown"),document.querySelector("#footer").classList.remove("hidden")):e.classList.contains("shown")&&(document.querySelector("#footer").classList.add("hidden"),document.querySelector("#footer").classList.remove("shown"))});document.querySelectorAll(".pinput").forEach(t=>{t.addEventListener("input",e=>{let n=e.target;setClassName(n.attributes.id.value[1],n.value)})});document.querySelectorAll(".caasppinput").forEach(t=>{t.addEventListener("change",e=>{let n=e.target;caasppChecked=n.checked,hasStorage&&localStorage.setItem("caasppChecked",n.checked.toString())})});function setClassName(t,e){if(hasStorage){const n=document.querySelector(`tr[value="${t}"] td:nth-child(1)`);e&&e!=""?(localStorage.setItem(t,e),n&&(n.textContent=t+": "+e)):(localStorage.removeItem(t),n&&(n.textContent=t))}}let alertHidden=!1;function showAlert(t){if(!alertHidden){const e=document.querySelector(".alert");document.querySelector("#alert-text").textContent=t,e.classList.contains("alert-visible")||e.classList.add("alert-visible")}}document.querySelector("#alert-close").addEventListener("click",()=>{document.querySelector(".alert").classList.remove("alert-visible"),alertHidden=!0});
//# sourceMappingURL=index.54d196a8.js.map

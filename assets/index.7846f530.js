(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();let h=!1;typeof Storage<"u"?h=!0:h=!1;let i=JSON.parse('{"A":[{"name":"1","start":"8:30","end":"9:20"},{"name":"2","start":"9:25","end":"10:20"},{"name":"3","start":"10:25","end":"11:15"},{"name":"Break","start":"11:15","end":"11:30"},{"name":"4","start":"11:35","end":"12:25"},{"name":"5","start":"12:30","end":"13:20"},{"name":"Lunch","start":"13:20","end":"13:50"},{"name":"6","start":"13:55","end":"14:45"},{"name":"7","start":"14:50","end":"15:40"}],"E":[{"name":"1","start":"8:30","end":"9:20"},{"name":"2","start":"9:25","end":"10:55"},{"name":"Break","start":"10:55","end":"11:10"},{"name":"Tutorial","start":"11:15","end":"12:00"},{"name":"4","start":"12:05","end":"13:35"},{"name":"Lunch","start":"13:35","end":"14:05"},{"name":"6","start":"14:10","end":"15:40"}],"O":[{"name":"1","start":"8:30","end":"9:20"},{"name":"3","start":"9:25","end":"10:55"},{"name":"Break","start":"10:55","end":"11:10"},{"name":"5","start":"11:15","end":"12:45"},{"name":"Lunch","start":"12:45","end":"13:15"},{"name":"7","start":"13:20","end":"14:50"}],"SA":[{"name":"1","start":"8:30","end":"9:25"},{"name":"3","start":"9:30","end":"10:45"},{"name":"Rally","start":"10:50","end":"11:25"},{"name":"Break","start":"11:25","end":"11:40"},{"name":"5","start":"11:45","end":"13:00"},{"name":"Lunch","start":"13:00","end":"13:30"},{"name":"7","start":"13:35","end":"14:50"}],"LA":[{"name":"1","start":"8:30","end":"9:15"},{"name":"3","start":"9:20","end":"10:30"},{"name":"Assembly","start":"10:35","end":"11:35"},{"name":"Break","start":"11:35","end":"11:50"},{"name":"5","start":"11:55","end":"13:05"},{"name":"Lunch","start":"13:05","end":"13:35"},{"name":"7","start":"13:40","end":"14:50"}],"NS":"none"}'),L=JSON.parse('["A","E","O","E","O"]'),S;function c(){let t=new Date,s=((0*60+0)*60+0)*1e3+0;return t.setTime(t.getTime()+s),t}let u,l;function N(){fetch("https://everythingischaos.com/schedule-data/overrides.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async t=>{const e=await t.json();JSON.stringify(e)!=JSON.stringify(u)&&(u=e,f(i))},()=>{p("Network error!  Schedule might not be up to date."),clearInterval(v)}),fetch("https://everythingischaos.com/schedule-data/schedules.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async t=>{const e=await t.json();JSON.stringify(e)!=JSON.stringify(i)&&(i=e,f(i))},()=>{p("Network error!  Schedule might not be up to date."),clearInterval(v)}),fetch("https://everythingischaos.com/schedule-data/days.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async t=>{const e=await t.json();JSON.stringify(e)!=JSON.stringify(L)&&(L=e,f(i))},()=>{p("Network error!  Schedule might not be up to date."),clearInterval(v)})}N();let v=setInterval(N,1e4);function f(t){let e=c().getDay(),r=t[L[e-1]];if(u){const a=c(),s=`${a.getDate()}-${a.getMonth()+1}-${a.getFullYear()}`;u[s]&&(r=t[u[s]],console.log(r))}if(e==0||e==6||r=="none"){document.querySelector("#timer").textContent="No school today!";return}else{document.querySelector("#periods").innerHTML="<tr><th>Period</th><th>Start</th><th>End</th></tr>";let a=[];S&&clearInterval(S);for(let s=0;s<r.length;s++){let n=r[s],o=w(n.start),q=w(n.end);a.push({time:o.getTime(),name:"Start of "+n.name}),a.push({time:q.getTime(),name:"End of "+n.name});let T=o.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),I=q.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),y;n.name!="Break"&&n.name!="Lunch"&&!n.name.includes("walkout")&&m(n.name)?y=n.name+": "+m(n.name):y=n.name;let d="<tr";n.name.includes("walkout")?d+=' class="walkout"':n.name=="Break"||n.name=="Lunch"?d+=' class="break"':d+=" value="+n.name,d+=`>
      <td>${y}</td>
      <td>${T}</td>
      <td>${n.name.includes("walkout")?"~":""}${I}</td>
    </tr>`,document.getElementById("periods").innerHTML+=d}document.querySelectorAll(".pinput").forEach((s,n)=>{const o=m(String(n+1));s.value=o||""}),S=setInterval(E,3.33,a,e)}}function m(t){if(h)return localStorage.getItem(t)?localStorage.getItem(t):void 0}function w(t){let e=c(),r=t.split(":");return e.setHours(r[0],r[1],0),e}function b(t){let e=c();for(let r=0;r<t.length;r++)if(t[r].time>=e.getTime())return t[r]}let k=0,M=0,g=!0;function E(t,e){e!=c().getDay()&&f(i),l=b(t);let r=c(),a=document.getElementById("timer");if(l){let s=l.time-r.getTime(),n=A(s);document.visibilityState=="visible"&&(g&&(a.innerHTML=n.minutes+":"+n.seconds+"."+n.milliseconds),a.innerHTML=n.minutes+":"+n.seconds,M!=l&&(document.querySelector("#next").textContent="Until "+l.name+(m(l.name.slice(-1))?": "+m(l.name.slice(-1)):""),M=l)),k!=n.seconds&&(document.title=n.minutes+":"+n.seconds,k=n.seconds)}else a.innerText="School's Out!",document.title="School's Out!"}function A(t){var e=Math.floor(t%1e3),r=Math.floor(t/1e3%60),a=Math.floor(t/(1e3*60));return a=a<10?"0"+a:a,r=r<10?"0"+r:r,e=e<100?e<10?"00"+e:"0"+e:e,g?{minutes:a,seconds:r,milliseconds:e}:{minutes:a,seconds:r}}document.querySelector("#shownaming").addEventListener("click",()=>{const t=document.querySelector("#naming");t.classList.contains("hidden")?(document.querySelector("#naming").classList.add("shown"),document.querySelector("#naming").classList.remove("hidden")):t.classList.contains("shown")&&(document.querySelector("#naming").classList.add("hidden"),document.querySelector("#naming").classList.remove("shown"));const e=document.querySelector("#footer");e.classList.contains("hidden")?(document.querySelector("#footer").classList.add("shown"),document.querySelector("#footer").classList.remove("hidden")):e.classList.contains("shown")&&(document.querySelector("#footer").classList.add("hidden"),document.querySelector("#footer").classList.remove("shown"))});document.querySelectorAll(".pinput").forEach(t=>{t.addEventListener("input",e=>{let r=e.target;D(r.attributes.id.value[1],r.value)})});document.querySelectorAll(".msinput").forEach(t=>{t.addEventListener("change",e=>{g=e.target.checked,console.log(g)})});function D(t,e){if(h){const r=document.querySelector(`tr[value="${t}"] td:nth-child(1)`);e&&e!=""?(localStorage.setItem(t,e),r&&(r.textContent=t+": "+e)):(localStorage.removeItem(t),r&&(r.textContent=t))}}let O=!1;function p(t){if(!O){const e=document.querySelector(".alert");document.querySelector("#alert-text").textContent=t,e.classList.contains("alert-visible")||e.classList.add("alert-visible")}}document.querySelector("#alert-close").addEventListener("click",()=>{document.querySelector(".alert").classList.remove("alert-visible"),O=!0});
//# sourceMappingURL=index.7846f530.js.map

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=r(a);fetch(a.href,n)}})();let f=!1;typeof Storage<"u"?f=!0:f=!1;let d=JSON.parse('{"A":[{"name":"1","start":"8:30","end":"9:20"},{"name":"2","start":"9:25","end":"10:20"},{"name":"3","start":"10:25","end":"11:15"},{"name":"Break","start":"11:15","end":"11:30"},{"name":"4","start":"11:35","end":"12:25"},{"name":"5","start":"12:30","end":"13:20"},{"name":"Lunch","start":"13:20","end":"13:50"},{"name":"6","start":"13:55","end":"14:45"},{"name":"7","start":"14:50","end":"15:40"}],"E":[{"name":"1","start":"8:30","end":"9:20"},{"name":"2","start":"9:25","end":"10:55"},{"name":"Break","start":"10:55","end":"11:10"},{"name":"Tutorial","start":"11:15","end":"12:00"},{"name":"4","start":"12:05","end":"13:35"},{"name":"Lunch","start":"13:35","end":"14:05"},{"name":"6","start":"14:10","end":"15:40"}],"O":[{"name":"1","start":"8:30","end":"9:20"},{"name":"3","start":"9:25","end":"10:55"},{"name":"Break","start":"10:55","end":"11:10"},{"name":"5","start":"11:15","end":"12:45"},{"name":"Lunch","start":"12:45","end":"13:15"},{"name":"7","start":"13:20","end":"14:50"}],"SA":[{"name":"1","start":"8:30","end":"9:25"},{"name":"3","start":"9:30","end":"10:45"},{"name":"Rally","start":"10:50","end":"11:25"},{"name":"Break","start":"11:25","end":"11:40"},{"name":"5","start":"11:45","end":"13:00"},{"name":"Lunch","start":"13:00","end":"13:30"},{"name":"7","start":"13:35","end":"14:50"}],"LA":[{"name":"1","start":"8:30","end":"9:15"},{"name":"3","start":"9:20","end":"10:30"},{"name":"Assembly","start":"10:35","end":"11:35"},{"name":"Break","start":"11:35","end":"11:50"},{"name":"5","start":"11:55","end":"13:05"},{"name":"Lunch","start":"13:05","end":"13:35"},{"name":"7","start":"13:40","end":"14:50"}],"NS":"none"}'),y=JSON.parse('["A","E","O","E","O"]'),g;function l(){let t=new Date,a=((0*60+0)*60+0)*1e3+0;return t.setTime(t.getTime()+a),t}let u,i;function M(){fetch("https://everythingischaos.com/schedule-data/schedules.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async t=>{const e=await t.json();JSON.stringify(e)!=JSON.stringify(d)&&(d=e)},()=>{}),fetch("https://everythingischaos.com/schedule-data/days.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async t=>{const e=await t.json();JSON.stringify(e)!=JSON.stringify(y)&&(y=e)},()=>{}),fetch("https://everythingischaos.com/schedule-data/overrides.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async t=>{const e=await t.json();JSON.stringify(e)!=JSON.stringify(u)&&(u=e)},()=>{}),console.log("changing code bouta make the schedule"),S(d)}M();console.log("changes were checked");setInterval(M,1e4);function S(t){let e=l().getDay(),r=t[y[e-1]];if(u){console.log("there's an override yay!");const s=l(),a=`${s.getDate()}-${s.getMonth()+1}-${s.getFullYear()}`;u[a]&&(r=t[u[a]],console.log(r))}if(e==0||e==6||r=="none"){document.querySelector("#timer").textContent="No school today!",console.log("no school and whatnot");return}else{console.log("school?????"),document.querySelector("#periods").innerHTML="<tr><th>Period</th><th>Start</th><th>End</th></tr>";let s=[];g&&clearInterval(g);for(let a=0;a<r.length;a++){let n=r[a],o=v(n.start),p=v(n.end);s.push({time:o.getTime(),name:"Start of "+n.name}),s.push({time:p.getTime(),name:"End of "+n.name});let T=o.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),k=p.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),h;n.name!="Break"&&n.name!="Lunch"&&!n.name.includes("walkout")&&m(n.name)?h=n.name+": "+m(n.name):h=n.name;let c="<tr";n.name.includes("walkout")?c+=' class="walkout"':n.name=="Break"||n.name=="Lunch"?c+=' class="break"':c+=" value="+n.name,c+=`>
      <td>${h}</td>
      <td>${T}</td>
      <td>${n.name.includes("walkout")?"~":""}${k}</td>
    </tr>`,document.getElementById("periods").innerHTML+=c}document.querySelectorAll(".pinput").forEach((a,n)=>{const o=m(String(n+1));a.value=o||""}),g=setInterval(N,1,s,e)}}function m(t){if(f)return localStorage.getItem(t)?localStorage.getItem(t):void 0}S(d);function v(t){let e=l(),r=t.split(":");return e.setHours(r[0],r[1],0),e}function w(t){let e=l();for(let r=0;r<t.length;r++)if(t[r].time>=e.getTime())return t[r]}let L=0,O=0;function N(t,e){e!=l().getDay()&&S(d),i=w(t);let r=l(),s=document.getElementById("timer");if(i){let a=i.time-r.getTime(),n=q(a);document.visibilityState=="visible"&&(s.innerHTML=n.minutes+":"+n.seconds+"."+n.milliseconds,O!=i&&(document.querySelector("#next").textContent="Until "+i.name+(m(i.name.slice(-1))?": "+m(i.name.slice(-1)):""),O=i)),L!=n.seconds&&(document.title=n.minutes+":"+n.seconds,L=n.seconds)}else s.innerText="School's Out!",document.title="School's Out!"}function q(t){var e=Math.floor(t%1e3),r=Math.floor(t/1e3%60),s=Math.floor(t/(1e3*60));return s=s<10?"0"+s:s,r=r<10?"0"+r:r,e=e<100?e<10?"00"+e:"0"+e:e,{minutes:s,seconds:r,milliseconds:e}}document.querySelector("#shownaming").addEventListener("click",()=>{const t=document.querySelector("#naming");t.classList.contains("hidden")?(document.querySelector("#naming").classList.add("shown"),document.querySelector("#naming").classList.remove("hidden")):t.classList.contains("shown")&&(document.querySelector("#naming").classList.add("hidden"),document.querySelector("#naming").classList.remove("shown"))});document.querySelectorAll(".pinput").forEach(t=>{t.addEventListener("input",e=>{let r=e.target;D(r.attributes.id.value[1],r.value)})});function D(t,e){if(f){const r=document.querySelector(`tr[value="${t}"] td:nth-child(1)`);e&&e!=""?(localStorage.setItem(t,e),r&&(r.textContent=t+": "+e)):(localStorage.removeItem(t),r&&(r.textContent=t))}}
//# sourceMappingURL=index.06e4243c.js.map

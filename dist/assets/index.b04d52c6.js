(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=r(a);fetch(a.href,n)}})();let f=!1;typeof Storage<"u"?f=!0:f=!1;const M=async()=>{if("serviceWorker"in navigator)try{const e=await navigator.serviceWorker.register("./service-worker.js");e.installing?console.log("Service worker installing"):e.waiting?console.log("Service worker installed"):e.active&&console.log("Service worker active")}catch(e){console.error(`Registration failed with ${e}`)}};M();let l=JSON.parse('[[{"name":"1","start":"8:30","end":"9:15"},{"name":"2","start":"9:20","end":"10:10"},{"name":"3","start":"10:15","end":"11:05"},{"name":"Break","start":"11:05","end":"11:20"},{"name":"4","start":"11:25","end":"12:15"},{"name":"5","start":"12:20","end":"13:10"},{"name":"Lunch","start":"13:10","end":"13:40"},{"name":"6","start":"13:45","end":"14:35"},{"name":"7","start":"14:40","end":"15:30"}],[{"name":"1","start":"8:30","end":"9:36"},{"name":"3","start":"9:41","end":"11:18"},{"name":"Break","start":"11:18","end":"11:33"},{"name":"5","start":"11:38","end":"13:15"},{"name":"Lunch","start":"13:15","end":"13:48"},{"name":"7","start":"13:53","end":"15:30"}],[{"name":"2","start":"8:30","end":"10:07"},{"name":"Tutorial","start":"10:12","end":"11:18"},{"name":"Break","start":"11:18","end":"11:33"},{"name":"4","start":"11:38","end":"13:15"},{"name":"Lunch","start":"13:15","end":"13:48"},{"name":"6","start":"13:53","end":"15:30"}],[{"name":"1","start":"8:30","end":"9:36"},{"name":"3","start":"9:41","end":"11:18"},{"name":"Break","start":"11:18","end":"11:33"},{"name":"5","start":"11:38","end":"13:15"},{"name":"Lunch","start":"13:15","end":"13:48"},{"name":"7","start":"13:53","end":"15:30"}],[{"name":"1","start":"8:30","end":"9:36"},{"name":"2","start":"9:41","end":"11:18"},{"name":"Break","start":"11:18","end":"11:33"},{"name":"4","start":"11:38","end":"13:15"},{"name":"Lunch","start":"13:15","end":"13:48"},{"name":"6","start":"13:53","end":"15:30"}]]'),S;function u(){let e=new Date,a=((0*60+0)*60+0)*1e3+0;return e.setTime(e.getTime()+a),e}let c,i;function w(){fetch("https://gist.githubusercontent.com/piguyisme/e652e0a5009f17efde347c390767d069/raw/schedule.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async e=>{const t=await e.json();t!=l&&(l=t,h(l))},()=>{}),fetch("https://gist.githubusercontent.com/piguyisme/db88af35c569b7b5a8aff60c679f527c/raw/overrides.json?="+Math.floor(Math.random()*1e3),{cache:"no-store"}).then(async e=>{const t=await e.json();JSON.stringify(t)!=JSON.stringify(c)&&(c=t,h(l))},()=>{})}w();setInterval(w,1e4);function h(e){let t=u().getDay(),r;if(c){const s=u(),a=`${s.getDate()}-${s.getMonth()+1}-${s.getFullYear()}`;c[a]?r=c[a]:r=e[t-1]}else r=e[t-1];if((t==0||t==6)&&!c){document.querySelector("#timer").textContent="No school today!";return}else{document.querySelector("#periods").innerHTML="<tr><th>Period</th><th>Start</th><th>End</th></tr>";let s=[];S&&clearInterval(S);for(let a=0;a<r.length;a++){let n=r[a],o=v(n.start),y=v(n.end);s.push({time:o.getTime(),name:"Start of "+n.name}),s.push({time:y.getTime(),name:"End of "+n.name});let k=o.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),T=y.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),g;n.name!="Break"&&n.name!="Lunch"&&!n.name.includes("walkout")&&m(n.name)?g=n.name+": "+m(n.name):g=n.name;let d="<tr";n.name.includes("walkout")?d+=' class="walkout"':n.name=="Break"||n.name=="Lunch"?d+=' class="break"':d+=" value="+n.name,d+=`>
      <td>${g}</td>
      <td>${k}</td>
      <td>${n.name.includes("walkout")?"~":""}${T}</td>
    </tr>`,document.getElementById("periods").innerHTML+=d}document.querySelectorAll(".pinput").forEach((a,n)=>{const o=m(String(n+1));a.value=o||""}),S=setInterval(q,1,s,t)}}function m(e){if(f)return localStorage.getItem(e)?localStorage.getItem(e):void 0}h(l);function v(e){let t=u(),r=e.split(":");return t.setHours(r[0],r[1],0),t}function b(e){let t=u();for(let r=0;r<e.length;r++)if(e[r].time>=t.getTime())return e[r]}let p=0,L=0;function q(e,t){t!=u().getDay()&&h(l),i=b(e);let r=u(),s=document.getElementById("timer");if(i){let a=i.time-r.getTime(),n=D(a);document.visibilityState=="visible"&&(s.innerHTML=n.minutes+":"+n.seconds+"."+n.milliseconds,L!=i&&(document.querySelector("#next").textContent="Until "+i.name+(m(i.name.slice(-1))?": "+m(i.name.slice(-1)):""),L=i)),p!=n.seconds&&(document.title=n.minutes+":"+n.seconds,p=n.seconds)}else s.innerText="School's Out!",document.title="School's Out!"}function D(e){var t=Math.floor(e%1e3),r=Math.floor(e/1e3%60),s=Math.floor(e/(1e3*60));return s=s<10?"0"+s:s,r=r<10?"0"+r:r,t=t<100?t<10?"00"+t:"0"+t:t,{minutes:s,seconds:r,milliseconds:t}}document.querySelector("#shownaming").addEventListener("click",()=>{const e=document.querySelector("#naming");e.classList.contains("hidden")?(document.querySelector("#naming").classList.add("shown"),document.querySelector("#naming").classList.remove("hidden")):e.classList.contains("shown")&&(document.querySelector("#naming").classList.add("hidden"),document.querySelector("#naming").classList.remove("shown"))});document.querySelectorAll(".pinput").forEach(e=>{e.addEventListener("input",t=>{let r=t.target;I(r.attributes.id.value[1],r.value)})});function I(e,t){if(f){const r=document.querySelector(`tr[value="${e}"] td:nth-child(1)`);t&&t!=""?(localStorage.setItem(e,t),r&&(r.textContent=e+": "+t)):(localStorage.removeItem(e),r&&(r.textContent=e))}}
